<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a de Despliegue - Liga de Padel en Bluehost</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
        }
        .step {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 10px 0;
        }
        .warning {
            background: #f39c12;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            background: #27ae60;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .checklist {
            background: #e8f5e8;
            padding: 15px;
            border-left: 4px solid #27ae60;
            margin: 10px 0;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin: 5px 0;
        }
        .file-structure {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            font-family: monospace;
            border-radius: 5px;
            margin: 10px 0;
        }
        .badge {
            background: #3498db;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
        }
        @media print {
            body { background: white; }
            .container { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Gu√≠a de Despliegue<br>Liga de Padel en Bluehost</h1>
        
        <div class="success">
            <strong>‚úÖ Aplicaci√≥n:</strong> Liga de Padel - Sistema de Gesti√≥n<br>
            <strong>üåê Dominio:</strong> ligadepadeldebogotaoficial.com/LPBApp<br>
            <strong>üìÖ Fecha:</strong> Octubre 2025<br>
            <strong>‚ö° Stack:</strong> React + PHP/Lumen + MySQL
        </div>

        <h2>üìã Requisitos Previos</h2>
        <div class="checklist">
            <h3>En Bluehost necesitas:</h3>
            <ul>
                <li>‚úÖ Hosting con soporte PHP 7.4+</li>
                <li>‚úÖ Base de datos MySQL</li>
                <li>‚úÖ Acceso a phpMyAdmin</li>
                <li>‚úÖ Acceso a File Manager o FTP</li>
                <li>‚úÖ Dominio configurado</li>
            </ul>
        </div>

        <h2>üîÑ Proceso de Despliegue Completo</h2>

        <h3>PASO 1: Preparar Frontend (React)</h3>
        <div class="step">
            <p><strong>Acci√≥n:</strong> Generar build de producci√≥n</p>
            <div class="code">cd web-app<br>npm run build</div>
            <p>Esto genera la carpeta <code>build/</code> con archivos est√°ticos optimizados para producci√≥n.</p>
        </div>

        <h3>PASO 2: Configurar Base de Datos MySQL</h3>
        <div class="step">
            <h4>2.1 Crear Base de Datos en Bluehost:</h4>
            <ol>
                <li>Ir a <strong>cPanel > MySQL Databases</strong></li>
                <li>Crear nueva base de datos: <code>ajkyinmy_liga_padel_app</code></li>
                <li>Crear usuario MySQL: <code>ajkyinmy_user_app</code></li>
                <li>Asignar permisos completos al usuario</li>
                <li>Anotar credenciales para configuraci√≥n</li>
            </ol>

            <h4>2.2 Importar Estructura de Base de Datos:</h4>
            <ol>
                <li>Abrir <strong>phpMyAdmin</strong> en cPanel</li>
                <li>Seleccionar la base de datos creada</li>
                <li>Ir a pesta√±a <strong>"Import"</strong></li>
                <li>Subir archivo <code>database_production.sql</code></li>
                <li>Ejecutar importaci√≥n</li>
            </ol>

            <div class="warning">
                <strong>‚ö†Ô∏è Importante:</strong> Verificar que todas las tablas se crearon correctamente:
                users, clubs, athletes, tournaments
            </div>
        </div>

        <h3>PASO 3: Configurar Backend (PHP/Lumen)</h3>
        <div class="step">
            <h4>3.1 Configuraci√≥n de Producci√≥n (.env):</h4>
            <p>El archivo <code>api/.env.production</code> debe contener:</p>
            <div class="code">
# Configuraci√≥n Base de Datos<br>
DB_CONNECTION=mysql<br>
DB_HOST=localhost<br>
DB_PORT=3306<br>
DB_DATABASE=ajkyinmy_liga_padel_app<br>
DB_USERNAME=ajkyinmy_user_app<br>
DB_PASSWORD=pwd_l1g4_app<br><br>

# Configuraci√≥n Aplicaci√≥n<br>
APP_NAME="Liga de Padel"<br>
APP_ENV=production<br>
APP_DEBUG=false<br>
APP_URL=https://ligadepadeldebogotaoficial.com/LPBApp<br>
APP_TIMEZONE=America/Bogota<br><br>

# Seguridad<br>
APP_KEY=base64:TU_CLAVE_SEGURA_AQUI<br><br>

# CORS para producci√≥n<br>
CORS_ALLOWED_ORIGINS=https://ligadepadeldebogotaoficial.com
            </div>

            <h4>3.2 Generar APP_KEY Segura:</h4>
            <p>Usar generador online o comando PHP para crear clave de 32 caracteres.</p>
        </div>

        <h3>PASO 4: Estructura de Archivos en Servidor</h3>
        <div class="step">
            <h4>Estructura final en public_html/LPBApp:</h4>
            <div class="file-structure">
public_html/LPBApp/<br>
‚îú‚îÄ‚îÄ index.html              (del build de React)<br>
‚îú‚îÄ‚îÄ static/                 (CSS/JS de React)<br>
‚îÇ   ‚îú‚îÄ‚îÄ css/<br>
‚îÇ   ‚îî‚îÄ‚îÄ js/<br>
‚îú‚îÄ‚îÄ manifest.json          (del build de React)<br>
‚îú‚îÄ‚îÄ favicon.ico<br>
‚îú‚îÄ‚îÄ .htaccess              (redirecciones principales)<br>
‚îî‚îÄ‚îÄ api/                   (Backend PHP)<br>
    ‚îú‚îÄ‚îÄ app/<br>
    ‚îú‚îÄ‚îÄ public/<br>
    ‚îú‚îÄ‚îÄ vendor/            (dependencias PHP)<br>
    ‚îú‚îÄ‚îÄ .env               (configuraci√≥n producci√≥n)<br>
    ‚îî‚îÄ‚îÄ .htaccess          (configuraci√≥n API)
            </div>

            <h4>4.1 Subir archivos v√≠a File Manager:</h4>
            <ol>
                <li>Acceder a <strong>cPanel > File Manager</strong></li>
                <li>Navegar a <code>public_html/LPBApp/</code></li>
                <li>Subir contenido de <code>web-app/build/</code> a la ra√≠z de LPBApp</li>
                <li>Crear carpeta <code>api/</code></li>
                <li>Subir contenido completo de <code>api/</code> a <code>public_html/LPBApp/api/</code></li>
                <li>Renombrar <code>.env.production</code> a <code>.env</code></li>
            </ol>
        </div>

        <h3>PASO 5: Configurar Permisos de Archivos</h3>
        <div class="step">
            <p>Establecer permisos correctos en File Manager:</p>
            <div class="code">
chmod 755 public_html/LPBApp/api/storage<br>
chmod 755 public_html/LPBApp/api/bootstrap/cache<br>
chmod 644 public_html/LPBApp/api/.env<br>
chmod 644 public_html/LPBApp/.htaccess<br>
chmod 644 public_html/LPBApp/api/.htaccess
            </div>
        </div>

        <h3>PASO 6: Configurar Redirecciones (.htaccess)</h3>
        <div class="step">
            <h4>.htaccess principal (en LPBApp/):</h4>
            <div class="code">
Options -MultiViews -Indexes<br>
RewriteEngine On<br><br>

# API Routes<br>
RewriteCond %{REQUEST_URI} ^/LPBApp/api<br>
RewriteRule ^api/(.*)$ api/public/index.php [QSA,L]<br><br>

# React App (SPA)<br>
RewriteCond %{REQUEST_FILENAME} !-f<br>
RewriteCond %{REQUEST_FILENAME} !-d<br>
RewriteCond %{REQUEST_URI} !^/LPBApp/api<br>
RewriteRule . /LPBApp/index.html [L]
            </div>
        </div>

        <h3>PASO 7: Verificar Funcionamiento</h3>
        <div class="step">
            <h4>7.1 Probar API Backend:</h4>
            <div class="code">https://ligadepadeldebogotaoficial.com/LPBApp/api/users</div>
            <p>Deber√≠a retornar JSON con datos de usuarios</p>

            <h4>7.2 Probar Frontend:</h4>
            <div class="code">https://ligadepadeldebogotaoficial.com/LPBApp</div>
            <p>Deber√≠a cargar la aplicaci√≥n React completa</p>

            <h4>7.3 Probar Login del Sistema:</h4>
            <ul>
                <li><strong>Email:</strong> app@app.com</li>
                <li><strong>Password:</strong> 123</li>
            </ul>
        </div>

        <h2>üõ†Ô∏è Soluci√≥n de Problemas Comunes</h2>
        
        <h3>Error 500 - Internal Server Error</h3>
        <div class="step">
            <ul>
                <li>‚úÖ Verificar permisos de carpetas storage/ y cache/</li>
                <li>‚úÖ Revisar logs de error en cPanel > Error Logs</li>
                <li>‚úÖ Verificar configuraci√≥n .env (credenciales DB)</li>
                <li>‚úÖ Comprobar que vendor/ existe (dependencias PHP)</li>
            </ul>
        </div>

        <h3>Frontend no carga</h3>
        <div class="step">
            <ul>
                <li>‚úÖ Verificar que index.html est√© en ra√≠z de LPBApp/</li>
                <li>‚úÖ Revisar .htaccess para redirecci√≥n SPA</li>
                <li>‚úÖ Verificar rutas de archivos est√°ticos (/static/)</li>
                <li>‚úÖ Comprobar configuraci√≥n de URL base</li>
            </ul>
        </div>

        <h3>API no responde</h3>
        <div class="step">
            <ul>
                <li>‚úÖ Verificar ruta /LPBApp/api/ en .htaccess</li>
                <li>‚úÖ Comprobar conexi√≥n a base de datos</li>
                <li>‚úÖ Verificar que public/index.php existe</li>
                <li>‚úÖ Revisar configuraci√≥n CORS</li>
            </ul>
        </div>

        <h3>Base de datos no conecta</h3>
        <div class="step">
            <ul>
                <li>‚úÖ Verificar credenciales exactas en .env</li>
                <li>‚úÖ Verificar permisos de usuario MySQL</li>
                <li>‚úÖ Comprobar nombre exacto de base de datos</li>
                <li>‚úÖ Probar conexi√≥n desde phpMyAdmin</li>
            </ul>
        </div>

        <h2>üì± URLs de Producci√≥n Final</h2>
        <div class="success">
            <ul>
                <li><strong>üåê Frontend:</strong> https://ligadepadeldebogotaoficial.com/LPBApp</li>
                <li><strong>üîå API:</strong> https://ligadepadeldebogotaoficial.com/LPBApp/api</li>
                <li><strong>üóÑÔ∏è Base de Datos:</strong> ajkyinmy_liga_padel_app</li>
                <li><strong>üë§ Login Admin:</strong> app@app.com / 123</li>
            </ul>
        </div>

        <h2>üîí Seguridad Post-Despliegue</h2>
        <div class="checklist">
            <h3>Tareas de Seguridad Obligatorias:</h3>
            <ol>
                <li><strong>Cambiar contrase√±a de administrador:</strong>
                    <ul>
                        <li>Login con app@app.com / 123</li>
                        <li>Ir a gesti√≥n de usuarios</li>
                        <li>Cambiar a contrase√±a segura (8+ caracteres, may√∫sculas, n√∫meros, s√≠mbolos)</li>
                    </ul>
                </li>
                <li><strong>Configurar HTTPS:</strong>
                    <ul>
                        <li>Activar SSL en cPanel de Bluehost</li>
                        <li>Forzar redirecci√≥n HTTPS en .htaccess</li>
                    </ul>
                </li>
                <li><strong>Configurar backups autom√°ticos:</strong>
                    <ul>
                        <li>Activar backups en cPanel</li>
                        <li>Programar backup de base de datos semanal</li>
                    </ul>
                </li>
                <li><strong>Generar APP_KEY segura:</strong>
                    <ul>
                        <li>Reemplazar "GENERATE_NEW_KEY_FOR_PRODUCTION"</li>
                        <li>Usar clave de 32 caracteres √∫nica</li>
                    </ul>
                </li>
            </ol>
        </div>

        <h2>‚ú® Caracter√≠sticas de la Aplicaci√≥n</h2>
        <div class="step">
            <h3>Funcionalidades Implementadas:</h3>
            <ul>
                <li><span class="badge">Frontend</span> Dise√±o completamente responsivo</li>
                <li><span class="badge">Mobile</span> Sin scroll horizontal en dispositivos m√≥viles</li>
                <li><span class="badge">UX</span> Tablas optimizadas para todas las pantallas</li>
                <li><span class="badge">Auth</span> Sistema de autenticaci√≥n JWT</li>
                <li><span class="badge">CRUD</span> Gesti√≥n completa de usuarios, deportistas, clubes, torneos</li>
                <li><span class="badge">Filters</span> Filtros inteligentes y b√∫squedas</li>
                <li><span class="badge">Security</span> Roles y permisos por usuario</li>
            </ul>

            <h3>Roles de Usuario:</h3>
            <ul>
                <li><strong>Administrador:</strong> Acceso completo a todas las funciones</li>
                <li><strong>Asistente:</strong> Gesti√≥n de deportistas y torneos</li>
                <li><strong>Club:</strong> Gesti√≥n de sus propios deportistas</li>
                <li><strong>Deportista:</strong> Vista de informaci√≥n personal</li>
            </ul>
        </div>

        <h2>üìû Soporte y Mantenimiento</h2>
        <div class="step">
            <h3>En caso de problemas:</h3>
            <ol>
                <li><strong>Revisar logs de error:</strong> cPanel > Error Logs</li>
                <li><strong>Verificar configuraci√≥n:</strong> Seguir checklist paso a paso</li>
                <li><strong>Probar componentes por separado:</strong> API, Frontend, Base de datos</li>
                <li><strong>Backup antes de cambios:</strong> Siempre hacer respaldo</li>
            </ol>

            <h3>Mantenimiento Recomendado:</h3>
            <ul>
                <li>üìÖ <strong>Semanal:</strong> Verificar logs de error</li>
                <li>üìÖ <strong>Mensual:</strong> Backup completo de base de datos</li>
                <li>üìÖ <strong>Trimestral:</strong> Actualizar dependencias de seguridad</li>
                <li>üìÖ <strong>Anual:</strong> Renovar certificados SSL</li>
            </ul>
        </div>

        <div class="success">
            <h2>üéâ ¬°Despliegue Completado!</h2>
            <p><strong>Tu aplicaci√≥n Liga de Padel est√° lista para producci√≥n en Bluehost con todas las mejoras responsivas y de seguridad implementadas.</strong></p>
            <p>URL: <code>https://ligadepadeldebogotaoficial.com/LPBApp</code></p>
        </div>

        <hr style="margin: 30px 0; border: none; border-top: 2px solid #3498db;">
        <div style="text-align: center; color: #7f8c8d; font-size: 0.9em;">
            <p><strong>Liga de Padel de Bogot√° Oficial</strong><br>
            Gu√≠a de Despliegue T√©cnico - Octubre 2025<br>
            React + PHP/Lumen + MySQL en Bluehost</p>
        </div>
    </div>
</body>
</html>